<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>内置服务配置 | vue-easy-admin</title>
    <meta name="description" content="快速开发中后台的VUE微前端架构">
    <link rel="icon" href="/vue-easy-admin-doc/favicon.ico">
    
    <link rel="preload" href="/vue-easy-admin-doc/assets/css/0.styles.7cfc9e72.css" as="style"><link rel="preload" href="/vue-easy-admin-doc/assets/js/app.96d10ea2.js" as="script"><link rel="preload" href="/vue-easy-admin-doc/assets/js/21.7bd8ba93.js" as="script"><link rel="prefetch" href="/vue-easy-admin-doc/assets/js/10.378725d7.js"><link rel="prefetch" href="/vue-easy-admin-doc/assets/js/11.4a49961d.js"><link rel="prefetch" href="/vue-easy-admin-doc/assets/js/12.019c8663.js"><link rel="prefetch" href="/vue-easy-admin-doc/assets/js/13.9cf78322.js"><link rel="prefetch" href="/vue-easy-admin-doc/assets/js/14.4e9cf97d.js"><link rel="prefetch" href="/vue-easy-admin-doc/assets/js/15.c9a1cd89.js"><link rel="prefetch" href="/vue-easy-admin-doc/assets/js/16.8ba441a0.js"><link rel="prefetch" href="/vue-easy-admin-doc/assets/js/17.a8ced163.js"><link rel="prefetch" href="/vue-easy-admin-doc/assets/js/18.733d955d.js"><link rel="prefetch" href="/vue-easy-admin-doc/assets/js/19.c48a35c5.js"><link rel="prefetch" href="/vue-easy-admin-doc/assets/js/20.6cbf027a.js"><link rel="prefetch" href="/vue-easy-admin-doc/assets/js/22.64bcb98d.js"><link rel="prefetch" href="/vue-easy-admin-doc/assets/js/23.9a63f7ae.js"><link rel="prefetch" href="/vue-easy-admin-doc/assets/js/3.735c5515.js"><link rel="prefetch" href="/vue-easy-admin-doc/assets/js/4.6ed9d69a.js"><link rel="prefetch" href="/vue-easy-admin-doc/assets/js/5.8513f868.js"><link rel="prefetch" href="/vue-easy-admin-doc/assets/js/6.b351391c.js"><link rel="prefetch" href="/vue-easy-admin-doc/assets/js/7.69afacb7.js"><link rel="prefetch" href="/vue-easy-admin-doc/assets/js/8.189ab5c1.js"><link rel="prefetch" href="/vue-easy-admin-doc/assets/js/9.6662f038.js"><link rel="prefetch" href="/vue-easy-admin-doc/assets/js/vendors~docsearch.76a22edb.js">
    <link rel="stylesheet" href="/vue-easy-admin-doc/assets/css/0.styles.7cfc9e72.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><!----> <header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vue-easy-admin-doc/" class="home-link router-link-active"><!----> <span class="site-name">vue-easy-admin</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vue-easy-admin-doc/zh/guide/" class="nav-link router-link-active">指南</a></div><div class="nav-item"><a href="https://fastcreator.github.io/vue-easy-admin-demo/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  DEMO
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/fastCreator/vue-easy-admin" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue-easy-admin(框架)
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fastCreator/vue-easy-admin-components" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue-easy-admin-components(组件)
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fastCreator/vue-easy-admin-demo" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue-easy-admin-demo(DEMO)
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fastCreator/vue-easy-admin-doc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue-easy-admin-doc(文档)
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="/vue-easy-admin-doc/zh/donate/" class="nav-link">捐赠</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vue-easy-admin-doc/zh/guide/" class="nav-link router-link-active">指南</a></div><div class="nav-item"><a href="https://fastcreator.github.io/vue-easy-admin-demo/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  DEMO
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/fastCreator/vue-easy-admin" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue-easy-admin(框架)
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fastCreator/vue-easy-admin-components" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue-easy-admin-components(组件)
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fastCreator/vue-easy-admin-demo" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue-easy-admin-demo(DEMO)
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/fastCreator/vue-easy-admin-doc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue-easy-admin-doc(文档)
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="/vue-easy-admin-doc/zh/donate/" class="nav-link">捐赠</a></div> <!----></nav> <div class="load-success"><div id="codefund"></div></div> <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>基础</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/vue-easy-admin-doc/zh/guide/" class="sidebar-link">介绍</a></li><li><a href="/vue-easy-admin-doc/zh/guide/introduction.html" class="sidebar-link">快速构建</a></li><li><a href="/vue-easy-admin-doc/zh/guide/service.html" class="active sidebar-link">内置服务配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-easy-admin-doc/zh/guide/service.html#基础服务-iass" class="sidebar-link">基础服务 iass</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-easy-admin-doc/zh/guide/service.html#状态共享-store" class="sidebar-link">状态共享-store</a></li><li class="sidebar-sub-header"><a href="/vue-easy-admin-doc/zh/guide/service.html#element" class="sidebar-link">element</a></li><li class="sidebar-sub-header"><a href="/vue-easy-admin-doc/zh/guide/service.html#多语言-language" class="sidebar-link">多语言-language</a></li><li class="sidebar-sub-header"><a href="/vue-easy-admin-doc/zh/guide/service.html#数据模拟-mock" class="sidebar-link">数据模拟-mock</a></li><li class="sidebar-sub-header"><a href="/vue-easy-admin-doc/zh/guide/service.html#请求配置-request" class="sidebar-link">请求配置-request</a></li><li class="sidebar-sub-header"><a href="/vue-easy-admin-doc/zh/guide/service.html#路由-router" class="sidebar-link">路由-router</a></li><li class="sidebar-sub-header"><a href="/vue-easy-admin-doc/zh/guide/service.html#自动加载组件-components" class="sidebar-link">自动加载组件-components</a></li><li class="sidebar-sub-header"><a href="/vue-easy-admin-doc/zh/guide/service.html#自动加载-svg-图片-svg" class="sidebar-link">自动加载 SVG 图片-svg</a></li></ul></li><li class="sidebar-sub-header"><a href="/vue-easy-admin-doc/zh/guide/service.html#sass-层-应用解决方案" class="sidebar-link">sass 层-应用解决方案</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-easy-admin-doc/zh/guide/service.html#复制功能-copy" class="sidebar-link">复制功能-copy</a></li><li class="sidebar-sub-header"><a href="/vue-easy-admin-doc/zh/guide/service.html#变化-dom-title" class="sidebar-link">变化 dom.title</a></li><li class="sidebar-sub-header"><a href="/vue-easy-admin-doc/zh/guide/service.html#布局-layout" class="sidebar-link">布局-layout</a></li><li class="sidebar-sub-header"><a href="/vue-easy-admin-doc/zh/guide/service.html#loading-加载中" class="sidebar-link">loading-加载中</a></li><li class="sidebar-sub-header"><a href="/vue-easy-admin-doc/zh/guide/service.html#navs" class="sidebar-link">navs</a></li><li class="sidebar-sub-header"><a href="/vue-easy-admin-doc/zh/guide/service.html#用户权限-permission" class="sidebar-link">用户权限-permission</a></li><li class="sidebar-sub-header"><a href="/vue-easy-admin-doc/zh/guide/service.html#监听页面变化-rezie" class="sidebar-link">监听页面变化-rezie</a></li><li class="sidebar-sub-header"><a href="/vue-easy-admin-doc/zh/guide/service.html#主题切换-theme" class="sidebar-link">主题切换-theme</a></li></ul></li></ul></li><li><a href="/vue-easy-admin-doc/zh/guide/project.html" class="sidebar-link">工程化</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>进阶</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/vue-easy-admin-doc/zh/guide/microFrontEnd.html" class="sidebar-link">微前端</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="内置服务配置"><a href="#内置服务配置" class="header-anchor">#</a> 内置服务配置</h1> <h2 id="基础服务-iass"><a href="#基础服务-iass" class="header-anchor">#</a> 基础服务 iass</h2> <h3 id="状态共享-store"><a href="#状态共享-store" class="header-anchor">#</a> 状态共享-store</h3> <ol><li>最基础模块，为了方便后续服务，默认最先加载</li> <li>根据原则，页面之间不能存在耦合，又需要方便开发者页面内状态传值；路由进入：动态加载开发目录下 store.js，以模块独立；路由出去：自动注销;由于 store 为最基本模块，此功能交由 route 服务实现</li> <li>原本后台系统业务不算太复杂，不需要使用 store 共享状态；这样会增加页面内组件之间的耦合，但是 store 方便开发者跨层级传值，以及上帝视角看数据；于是乎支持模块化 store,混乱也只是在这个应用页，需要开发自我评审，选择</li> <li>提供 store 模块快速注册机制</li></ol> <h4 id="配置文件"><a href="#配置文件" class="header-anchor">#</a> 配置文件</h4> <div class="language-js extra-class"><pre class="language-js"><code>store<span class="token operator">:</span> <span class="token punctuation">{</span>             <span class="token comment">//vuex全局模块配置</span>
    state<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    mutations<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="element"><a href="#element" class="header-anchor">#</a> element</h3> <p>框架内置 elementUI 组件库</p> <h3 id="多语言-language"><a href="#多语言-language" class="header-anchor">#</a> 多语言-language</h3> <p>提供全面的多语言解决方案、集成了 elementUI 多语言<br>
站在页面开发角度思考</p> <ol><li>在当前目录下，自动生成目录级别作用域，避免影响全局</li> <li>使用便捷，不需要手动定义作用域、直接 this.$lang 便可直接使用该目录下多语言</li> <li>思考代码书写流程，都是一个个字段开发，所以格式是以字段为 key,再去写各种语言</li> <li>服务提供了 store 与内置方法；可以直接修改、获取当前语言</li> <li>有些常见的多语言，需要全局；提供了 this.$globLang ，获取更目录下多语言配置</li> <li>通过 localstorage 记录当前用户选择语言，避免重复切换</li></ol> <h4 id="配置文件-2"><a href="#配置文件-2" class="header-anchor">#</a> 配置文件</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
      defalut<span class="token operator">:</span> <span class="token string">'en'</span><span class="token punctuation">,</span>             <span class="token comment">// 默认语言、localstorage优先</span>
      list<span class="token operator">:</span> <span class="token punctuation">[</span>                    <span class="token comment">// 支持语言列表</span>
        <span class="token punctuation">{</span>
          label<span class="token operator">:</span> <span class="token string">'中文'</span><span class="token punctuation">,</span>
          value<span class="token operator">:</span> <span class="token string">'zh-CN'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          label<span class="token operator">:</span> <span class="token string">'English'</span><span class="token punctuation">,</span>
          value<span class="token operator">:</span> <span class="token string">'en'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      glob<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span>                     <span class="token comment">// 全局配置</span>
    <span class="token punctuation">}</span>
</code></pre></div><h3 id="数据模拟-mock"><a href="#数据模拟-mock" class="header-anchor">#</a> 数据模拟-mock</h3> <ol><li>提供了真实的 http 请求模拟，更便于开发者调试</li> <li>内置了 mockJS 可以随机生成模拟数据</li> <li>内置 delay 函数，将 http 请求时间拉长，模拟各种网络情景</li> <li>所有请求相关 URL 为 http 请求因子定义，更便捷的一一对应，以及后面权限相关</li></ol> <h3 id="请求配置-request"><a href="#请求配置-request" class="header-anchor">#</a> 请求配置-request</h3> <ol><li>提供本地数据 mock,复用 mock.js 文件</li> <li>提供请求数据格式化，当数据不符合格式时，自动报错</li> <li>内置 net 函数，以权限因子的形式进行网络请求</li> <li>自动引用当前开发目录下的 api.js 文件，直接使用 this.$api 即可调用该函数</li> <li>注册服务，提供请求、响应的过滤器，方便上层应用开发</li></ol> <h4 id="权限因子定义以及使用"><a href="#权限因子定义以及使用" class="header-anchor">#</a> 权限因子定义以及使用</h4> <p>定义：method:url<br>
例如：post:/v1/api/user/{userID}<br>
使用：net(path, { params, query, body })<br>
path:权限因子、params：URL 上变量值、query：URL?参数、body 请求体
权限相关：sass 模块 permission 中讲到</p> <h4 id="配置文件-3"><a href="#配置文件-3" class="header-anchor">#</a> 配置文件</h4> <div class="language-js extra-class"><pre class="language-js"><code>request<span class="token operator">:</span> <span class="token punctuation">{</span>
      mock<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                                                       <span class="token comment">// 是否开启本地模拟</span>
      create<span class="token operator">:</span> <span class="token punctuation">{</span>                                                         <span class="token comment">// 初始化时配置，内置axios与之一致</span>
        baseURL<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'development'</span> <span class="token operator">?</span> <span class="token string">'/'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        timeout<span class="token operator">:</span> <span class="token number">5000</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      format<span class="token operator">:</span> <span class="token punctuation">{</span>                                                          <span class="token comment">// 请求数据格式化</span>
        codeKey<span class="token operator">:</span> <span class="token string">'code'</span><span class="token punctuation">,</span>
        successCode<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
        msgKey<span class="token operator">:</span> <span class="token string">'message'</span><span class="token punctuation">,</span>
        dataKey<span class="token operator">:</span> <span class="token string">'data'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="路由-router"><a href="#路由-router" class="header-anchor">#</a> 路由-router</h3> <ol><li>根据当前开发目录自动加载路由，无需在同一地方配置，减少代码冲突</li> <li>提供两种形式路由：全局页面形式、菜单页页面形式</li> <li>内置服务，页面跳转时开启 NProgress，可通过全局配置文件配置表</li> <li>注册服务，提供路由'beforeEach', 'beforeResolve', 'afterEach'钩子，方便上层应用开发</li> <li>内置组件 iframe 组件，通过页面级别 config.js 配置，引用第三方页面</li> <li>内置 redirect 组件，用来强制刷新 keep-alive 缓存</li></ol> <h4 id="全局配置文件"><a href="#全局配置文件" class="header-anchor">#</a> 全局配置文件</h4> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">indexPage</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                         <span class="token comment">// 跳转首页地址</span>
        <span class="token keyword">return</span> <span class="token string">'/local/page1'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      nProgress<span class="token operator">:</span> <span class="token punctuation">{</span> showSpinner<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>      <span class="token comment">// 进度条配置</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="自动加载组件-components"><a href="#自动加载组件-components" class="header-anchor">#</a> 自动加载组件-components</h3> <ol><li>自动加载 components 目录下面的组件，注册到全局，一定程度上解决双手；</li> <li>.vue-bk 文件不进行加载</li></ol> <h3 id="自动加载-svg-图片-svg"><a href="#自动加载-svg-图片-svg" class="header-anchor">#</a> 自动加载 SVG 图片-svg</h3> <ol><li>自动加载 svg 目录下面的图片，打包为 sprite 精灵图，一定程度上解决双手；</li> <li>提供 SvgIcon 组件使用图片</li> <li>为什么选用 svg 作为图片：数据小，矢量图、比字体图标更容易置换、可以多色、可以动画</li> <li>可在<a href="https://www.iconfont.cn/" target="_blank" rel="noopener noreferrer">阿里矢量图标库<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中下载所需要的图标</li></ol> <h2 id="sass-层-应用解决方案"><a href="#sass-层-应用解决方案" class="header-anchor">#</a> sass 层-应用解决方案</h2> <h3 id="复制功能-copy"><a href="#复制功能-copy" class="header-anchor">#</a> 复制功能-copy</h3> <ol><li>提供复制功能；调用 this.$service.copy.copyText(text,cb)</li></ol> <h3 id="变化-dom-title"><a href="#变化-dom-title" class="header-anchor">#</a> 变化 dom.title</h3> <ol><li>加载页面配置的 title,当路由变化时，自动改变 dom.title</li></ol> <h3 id="布局-layout"><a href="#布局-layout" class="header-anchor">#</a> 布局-layout</h3> <ol><li>提供内置典型的后台页面布局；如果某个块组件不合适，可以覆盖该组件</li></ol> <h4 id="全局配置文件-2"><a href="#全局配置文件-2" class="header-anchor">#</a> 全局配置文件</h4> <div class="language-js extra-class"><pre class="language-js"><code>layout<span class="token operator">:</span> <span class="token punctuation">{</span>
      sidebar<span class="token operator">:</span> <span class="token punctuation">{</span>                                  <span class="token comment">// 左边配置</span>
        logo<span class="token operator">:</span> <span class="token punctuation">{</span>                                   <span class="token comment">// 左边logo部分配置</span>
          title<span class="token operator">:</span> <span class="token punctuation">{</span>
            en<span class="token operator">:</span> <span class="token string">'VUE ADMIN'</span><span class="token punctuation">,</span>
            <span class="token string">'zh-CN'</span><span class="token operator">:</span> <span class="token string">'VUE后台管理'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          logo<span class="token operator">:</span> <span class="token string">'public/logo.png'</span><span class="token punctuation">,</span>
          link<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>                              <span class="token comment">// 点击logo跳转地址</span>
          showLogo<span class="token operator">:</span> <span class="token boolean">true</span>                          <span class="token comment">// 是否显示logo</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        menu<span class="token operator">:</span> <span class="token punctuation">{</span>                                   <span class="token comment">// 菜单配置，也可以不配置，通过后面主题来配置各种样式菜单</span>
          backgroundColor<span class="token operator">:</span> <span class="token string">'#545c64'</span><span class="token punctuation">,</span>
          textColor<span class="token operator">:</span> <span class="token string">'#ffffff'</span><span class="token punctuation">,</span>
          activeTextColor<span class="token operator">:</span> <span class="token string">'#ffd04b'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      header<span class="token operator">:</span> <span class="token punctuation">{</span>                                   <span class="token comment">// 右边布局头部</span>
        affixHeader<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                        <span class="token comment">// 是否固定头部</span>
        tagsView<span class="token operator">:</span> <span class="token boolean">true</span>                            <span class="token comment">// 是否展示多标签页</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      setting<span class="token operator">:</span> <span class="token punctuation">{</span>                                  <span class="token comment">// 右边设置</span>
        show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        list<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>                                  <span class="token comment">// 用户自定义配置</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="loading-加载中"><a href="#loading-加载中" class="header-anchor">#</a> loading-加载中</h3> <ol><li>页面进入时，便插入了 loading,减少白屏时间</li> <li>提供服务 open、close loading</li> <li>设置 loading 最大时长；避免出现某些 BUG 时，一直 loading 阻挡用户操作</li> <li>注册进入请求服务，请求时开启 loading、请求结束 loading 计数器-1</li> <li>可快速自定义 loading、在 public 文件夹下加入 loading.svg；svg 动画方便置换、矢量、数据量小</li></ol> <h3 id="navs"><a href="#navs" class="header-anchor">#</a> navs</h3> <ol><li>根据页面配置文件，快速生成菜单</li> <li>注册进入 store,可以修改</li></ol> <h3 id="用户权限-permission"><a href="#用户权限-permission" class="header-anchor">#</a> 用户权限-permission</h3> <ol><li>token 处理；无 token 或者 token 失效跳转到登录页面；token 过期，自动刷新 token</li> <li>依赖于 route、reqeust 服务</li> <li>调用用户信息以及用户权限接口，存入 store 中</li> <li>提供 this.$hasPermission 判断功能模块是否有权限</li> <li>页面级别配置，提供了 permission 配置，开发环境当调用接口时，会检查，如果该接口没有在当前页面配置时，会报错提示</li> <li>npm run permission 会生成整个应用的菜单权限树；在每次部署时，可以将菜单权限树加入到数据库中，避免权限与实际不统一，没有及时更新问题；我看很多后台系统的权限只是个摆设，只是控制到前端页面显隐，并没有控制到后端 API 权限控制；通过这个文件精确的表示到某个功能需要调用的哪些 API，而且不需要手动录入，降低风险</li> <li>功能依赖于其他页面时，如果不是很熟悉业务，更是不好配置；于是出现 goPage 选项，自动加载引用页的权限进入该功能</li></ol> <h4 id="全局配置"><a href="#全局配置" class="header-anchor">#</a> 全局配置</h4> <div class="language-js extra-class"><pre class="language-js"><code>permission<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">getUserInfo</span> <span class="token punctuation">(</span><span class="token parameter">request</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token comment">// 获取用户信息</span>
        <span class="token keyword">return</span> request<span class="token punctuation">.</span><span class="token function">net</span><span class="token punctuation">(</span><span class="token string">'get:/v1/apis/userInfo'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token keyword">async</span> <span class="token function">getPermission</span> <span class="token punctuation">(</span><span class="token parameter">request</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment">// 获取用户权限</span>
        <span class="token keyword">return</span> request<span class="token punctuation">.</span><span class="token function">net</span><span class="token punctuation">(</span><span class="token string">'get:/v1/apis/permission'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      whiteSource<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'openNew'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                       <span class="token comment">// 功能白名单</span>
      whiteAPI<span class="token operator">:</span> <span class="token punctuation">[</span>                                     <span class="token comment">// API白名单</span>
        <span class="token string">'get:/v1/apis/userInfo'</span><span class="token punctuation">,</span>
        <span class="token string">'get:/v1/apis/userInfo'</span><span class="token punctuation">,</span>
        <span class="token string">'get:/v1/apis/permission'</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      loginUrl<span class="token operator">:</span> <span class="token string">'/full/login'</span><span class="token punctuation">,</span>                         <span class="token comment">//登录页路径，可以是http的登录总登录，然后通过backURL跳转过来</span>
      headerKey<span class="token operator">:</span> <span class="token string">'token'</span><span class="token punctuation">,</span>                              <span class="token comment">//token请求头Key</span>
      token<span class="token operator">:</span> <span class="token punctuation">{</span>                                         <span class="token comment">//token相关操作</span>
        <span class="token function">refresh</span> <span class="token punctuation">(</span><span class="token parameter">request</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'token1'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">get</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> localStorage<span class="token punctuation">.</span>token
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">set</span> <span class="token punctuation">(</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          localStorage<span class="token punctuation">.</span>token <span class="token operator">=</span> token
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">remove</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        OverTimeCode<span class="token operator">:</span> <span class="token number">4001</span><span class="token punctuation">,</span>                             <span class="token comment">//token过期</span>
        InvalidCode<span class="token operator">:</span> <span class="token number">4002</span>                               <span class="token comment">//toekn失效</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><h3 id="监听页面变化-rezie"><a href="#监听页面变化-rezie" class="header-anchor">#</a> 监听页面变化-rezie</h3> <div class="language- extra-class"><pre class="language-text"><code>1. 监听页面大小变化，将尺寸，device放入store
2. 尺寸小于某个值（框架内置）,每次切换菜单，都会关闭左边菜单，来增加窗口面积
</code></pre></div><h3 id="主题切换-theme"><a href="#主题切换-theme" class="header-anchor">#</a> 主题切换-theme</h3> <ol><li>使用 style-loader 中 set\unset，动态加载主题</li> <li>这种主题切换好处是，随心所欲的定制</li> <li>elementUI 提供了<a href="https://element.eleme.cn/#/zh-CN/theme/preview" target="_blank" rel="noopener noreferrer">配置器<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,更加方便配置主题色</li></ol></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/fastCreator/vue-easy-admin-doc/edit/master/docs/zh/guide/service.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/vue-easy-admin-doc/zh/guide/introduction.html" class="prev">
          快速构建
        </a></span> <span class="next"><a href="/vue-easy-admin-doc/zh/guide/project.html">
          工程化
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/vue-easy-admin-doc/assets/js/app.96d10ea2.js" defer></script><script src="/vue-easy-admin-doc/assets/js/21.7bd8ba93.js" defer></script>
  </body>
</html>
